export const BUM_DIALOGUE = {
  spawnLines: [
    "Back in this shithole. Great.",
    "Man I shoulda sold at the top, fuck this alley.",
    "Another day, another liquidation.",
    "If I had one more sol I'd still be broke.",
    "This is fine. Everything's fine. I'm fine.",
    "Smells like regret and bad trades out here.",
    "I can feel the chart watching me.",
  ],

  enemyTaunts: {
    'Rival KryptoBum': [
      "You smell like bad decisions and gas fees.",
      "Still holding? Pathetic. I dumped at the top.",
      "Paper hands detected, bitch.",
      "Your bags heavier than your future.",
      "I sold your wallet on eBay.",
    ],
    'Crypto Influencer': [
      "Subscribe to my course, peasant.",
      "Bro this changed my life. You wouldn't get it.",
      "Hold on let me tweet this ass whoopin'.",
      "Not financial advice but you're fucked.",
      "My followers are gonna love this.",
      "You're ngmi and everyone knows it.",
    ],
    'Parking Enforcement': [
      "That shopping cart needs registration, dumbass.",
      "I live for this shit. Your suffering fuels me.",
      "You're in a loading zone. Prepare to be loaded.",
      "Badge says I can ruin your day. Watch.",
      "I ticket my own mother. Don't test me.",
    ],
    'IRS Shadow Figure': [
      "We know about 2017. We know everything.",
      "Capital gains are inevitable. Like death. Like me.",
      "You really thought you could hide? Cute.",
      "That airdrop? Taxable. Your breath? Also taxable.",
      "The blockchain remembers. So do we.",
    ],
    'XRP Guy': [
      "THE LAWSUIT IS OVER BRO THE LAWSUITâ€”",
      "XRP to $589 by Tuesday or I'm wrong!",
      "You don't understand ISO 20022 compliance!",
      "Just wait til the banks switch over!",
      "SEC can't stop the future, man!",
    ],
  },

  attackResults: {
    hit: [
      "Got 'em! Right in the portfolio!",
      "Boom! That's for my rugged jpegs!",
      "Hit! Felt that shit in my bones!",
      "Damn that actually connected!",
      "Violence! My favorite alt coin!",
      "Take that and HODL it!",
    ],
    critical: [
      "HOLY SHIT THAT HIT!",
      "Rage mode paying off baby!",
      "That's what I'm TALKING about!",
      "LIQUIDATED HIS ASS!",
    ],
  },

  missResults: [
    "Swing and a miss. Classic me.",
    "Whiffed it. Of course. Of fucking course.",
    "Air. Just air. Like my portfolio.",
    "I'm bad at this. Always have been.",
    "Miss. Like I missed the top. Again.",
    "That was embarrassing. You saw that? Don't tell nobody.",
  ],

  talkResults: {
    success: [
      "Wait that actually worked?",
      "They're confused by my deranged rambling!",
      "Talked my way out. Shocked honestly.",
      "Words! Still got it!",
      "They left. Probably thought I was crazy. Probably right.",
    ],
    failure: [
      "They don't give a shit what I have to say.",
      "Talking didn't work. Violence time.",
      "Should've just swung first.",
      "My words mean nothing here.",
      "They looked at me like I'm nobody. Because I am.",
    ],
  },

  stupidActionResults: {
    success: [
      "IT WORKED?! WHAT THE FUCK?!",
      "No way. NO FUCKING WAY.",
      "I'm a genius. I'm a goddamn genius.",
      "Chaos is a ladder. I read that somewhere.",
      "That was the dumbest thing I ever did and it WORKED.",
    ],
    failure: [
      "Predictable outcome for a predictable life.",
      "Of course. Why would anything work for me.",
      "I knew that was stupid before I did it.",
      "Pain. My old friend. We meet again.",
      "This is why I can't have nice things.",
      "Fuck around and find out. I found out.",
    ],
  },

  damageTakenLines: [
    "OW FUCK!",
    "That hurt! Why does it always hurt!",
    "I'm bleeding value!",
    "My health bar looking like my portfolio!",
    "Pain is temporary. Poverty is forever.",
    "Getting rekt out here!",
    "This is fine. I'm fine. Nothing's fine.",
  ],

  itemFoundLines: [
    "Ooh shiny trash!",
    "Is this worth anything? Probably not.",
    "Found something. It's garbage but it's MY garbage.",
    "This might be useful. Or cursed. We'll see.",
    "I'm basically looting now. New low.",
    "One man's trash is... still trash but whatever.",
  ],

  marketCrashLines: [
    "EVERYTHING'S RED! AGAIN!",
    "Market crashed. My soul crashed. We're all crashing.",
    "This is why we can't have nice things!",
    "Someone sold. Someone always sells.",
    "The charts betrayed me. AGAIN.",
    "FLASH CRASH! MY PORTFOLIO! MY LIFE!",
  ],

  surpiseRallyLines: [
    "Wait... is that green?",
    "Something pumped! I don't know what but I FEEL IT!",
    "We're back baby! Probably temporarily!",
    "Green candles! I remember these!",
    "The euphoria is back! And it's lying!",
  ],

  mysteryFoodLines: {
    heal: [
      "That was... actually not terrible?",
      "Ate garbage. Feel better. Life is weird.",
      "Health restored via dumpster cuisine.",
      "Gordon Ramsay would hate this but I'm healed.",
    ],
    damage: [
      "Instant regret. INSTANT.",
      "Why do I eat things from the ground?!",
      "That was a mistake. A terrible mistake.",
      "Poison. It was definitely poison.",
    ],
  },

  bobbyAdviceLines: [
    "Bobby told me to buy high, sell low. Trust me bro.",
    "Crackhead Bobby says hi. He's wrong about everything.",
    "Bobby's investment advice: Do crime. Not helpful.",
    "Bobby shared his strategy. It's chaos. Pure chaos.",
    "Bobby says the moon is fake. Also buy doge. I'm scared.",
  ],

  deathLines: [
    "LIQUIDATED",
    "REKT",
    "GG NO RE",
    "PORTFOLIO: $0",
    "BAGS TOO HEAVY",
    "MARGIN CALLED",
    "RUG PULLED",
    "DUMPED ON",
  ],

  victoryLines: [
    "Beat their ass. Felt good.",
    "They're gone. I'm still here. Barely.",
    "Victory tastes like cheap beer and regret.",
    "Won this round. Lost everything else.",
    "They fell. I'm still standing. For now.",
  ],

  winQuotes: [
    "Made it to the roof. Now what? Jump?",
    "The rooftop. Smells like pigeon shit and broken dreams.",
    "Achievement Unlocked: Temporarily Not Broke",
    "Climbed out the alley just to see another alley.",
    "The moon was actually a rooftop all along. Figures.",
    "I won but at what cost? Everything. Cost everything.",
  ],

  bumMutters: [
    "Stop pokin' me, I'm thinkin'.",
    "Don't touch me when the candles red.",
    "I can feel the chart... it's watching...",
    "Three more touch and I'm calling the cops. Wait I AM the cops? No...",
    "You got games on your phone?",
    "I'm not crazy YOU'RE crazy.",
    "That actually helped. Weird.",
    "Touch me again. See what happens. I don't know what'll happen but neither do you.",
    "I'm sensitive okay? OKAY?!",
    "Personal space. Ever heard of it?",
  ],

  rageModeTrigger: [
    "RAGE MODE ACTIVATED!",
    "I'M SEEING RED! AND NOT THE PORTFOLIO KIND!",
    "FUCK IT! VIOLENCE TIME!",
    "ANGER! PURE UNFILTERED ANGER!",
    "LET'S FUCKING GOOOOO!",
  ],

  lowHealthLines: [
    "I'm dying out here...",
    "This is it. This is how it ends.",
    "Everything hurts. Always hurts.",
    "Health bar looking anorexic.",
    "I need help. But help ain't coming.",
  ],
};

export const getRandomDialogue = (category: string, subcategory?: string): string => {
  if (subcategory && BUM_DIALOGUE[category as keyof typeof BUM_DIALOGUE][subcategory]) {
    const options = BUM_DIALOGUE[category as keyof typeof BUM_DIALOGUE][subcategory];
    return options[Math.floor(Math.random() * options.length)];
  }

  const options = BUM_DIALOGUE[category as keyof typeof BUM_DIALOGUE];
  if (Array.isArray(options)) {
    return options[Math.floor(Math.random() * options.length)];
  }

  return "...";
};

export const getContextualDialogue = (
  category: string,
  gameState: { rage: number; health: number; luck: number },
  subcategory?: string
): string => {
  const { rage, health } = gameState;

  let dialogue = getRandomDialogue(category, subcategory);

  if (rage > 80 && Math.random() > 0.5) {
    dialogue = dialogue.toUpperCase();
  }

  if (health < 30 && Math.random() > 0.6) {
    const desperate = [" ...I'm not okay.", " This is bad.", " I'm fucked.", " Help."];
    dialogue += desperate[Math.floor(Math.random() * desperate.length)];
  }

  if (Math.random() > 0.85) {
    const words = dialogue.split(' ');
    if (words.length > 2) {
      const repeatIdx = Math.floor(Math.random() * words.length);
      words[repeatIdx] = words[repeatIdx] + ' ' + words[repeatIdx];
      dialogue = words.join(' ');
    }
  }

  return dialogue;
};
